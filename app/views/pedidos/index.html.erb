<div class="container-fluid" style="margin-top: 100px;">
  <%= render "shared/flash_messages" %> <!-- Exibir mensagens de sucesso/erro -->

  <!-- Título da Página com ícone de Voltar e Botão Incluir -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div class="d-flex align-items-center">
      <%= link_to root_path, class: "btn btn-light btn-sm me-3" do %>
        <i class="fa fa-arrow-left"></i> <!-- Ícone de Voltar -->
      <% end %>
      <h1 class="mb-0"><%= t("common.pedidos", default: "Pedidos") %></h1>
    </div>
    <!-- Botão para Criar Novo Pedido -->
    <%= link_to new_pedido_path, class: "btn btn-primary d-flex align-items-center" do %>
      <i class="fa fa-plus me-2"></i> <%= t("common.new_pedido", default: "Novo Pedido") %>
    <% end %>
  </div>

  <!-- Exibindo os Pedidos com Cards -->
  <div class="row">
    <% @pedidos.each do |pedido| %>
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm">
          <div class="card-header">
            <h5 class="card-title"><%= t("common.pedido_id", default: "Pedido ID:") %> <%= pedido.id %></h5>
          </div>
          <div class="card-body">
            <p><strong><%= t("activerecord.attributes.pedido.user", default: "Usuário") %>:</strong> <%= pedido.user.nome if pedido.user.present? %></p>
            <p><strong><%= t("activerecord.attributes.pedido.produto", default: "Produto") %>:</strong> <%= pedido.produto.nome if pedido.produto.present? %></p>
            <p><strong><%= t("activerecord.attributes.pedido.quantidade", default: "Quantidade") %>:</strong> <%= pedido.quantidade %></p>
            <p><strong><%= t("activerecord.attributes.pedido.total", default: "Total") %>:</strong> <%= number_to_currency(pedido.total, locale: :'pt-BR') %></p>
            <p><strong><%= t("activerecord.attributes.pedido.status", default: "Status") %>:</strong> <%= pedido.status %></p>
          </div>
          <div class="card-footer text-center">
            <%= link_to t("common.show", default: "Ver"), pedido, class: "btn btn-info btn-sm me-2" %>
            <%= link_to t("common.edit", default: "Editar"), edit_pedido_path(pedido), class: "btn btn-warning btn-sm me-2" %>
            <%= button_to t("common.delete", default: "Excluir"), pedido, method: :delete, data: { confirm: t("common.are_you_sure", default: "Tem certeza?") }, class: "btn btn-danger btn-sm" %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

</div>

<!-- Footer Geral -->
<%= render "shared/scaffold/footer" %>

<!-- Scripts adicionais para melhorias -->
<script>
  $(document).ready(function() {
    // Pode adicionar funcionalidades aqui, como filtros, animações, etc.
  });
</script>
